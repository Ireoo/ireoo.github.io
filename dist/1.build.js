webpackJsonp([1],{1215:function(t,e,i){"use strict";function o(t){i(1256)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1231),n=i.n(s);for(var l in s)"default"!==l&&function(t){i.d(e,t,function(){return s[t]})}(l);var a=i(1258),r=i(18),c=o,u=r(n.a,a.a,!1,c,null,null);e.default=u.exports},1216:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(1220),e.default={name:"vue-list",props:["items","top","bottom"],data:function(){return{height:0,loading:{top:!1,bottom:!1},text:{top:"",bottom:"加载中..."},now:{x:0,y:0}}},mounted:function(){var t=this;this.$nextTick(function(){document.addEventListener("touchstart",t.touch,!1),document.addEventListener("touchmove",t.touch,!1),document.addEventListener("touchend",t.touch,!1),document.getElementsByClassName("body")[0].addEventListener("scroll",t.scroll,!1)})},destroyed:function(){document.removeEventListener("touchstart",this.touch,!1),document.removeEventListener("touchmove",this.touch,!1),document.removeEventListener("touchend",this.touch,!1),document.getElementsByClassName("body")[0].removeEventListener("scroll",this.scroll,!1)},methods:{touch:function(t){var e=this,t=t||window.event;switch(t.type){case"touchstart":this.now.y=t.touches[0].pageY;break;case"touchend":100!==this.height||this.loading.top?this.height=0:(this.loading.top=!0,this.top(function(t){e.loading.top=!1,e.height=0}));break;case"touchmove":var i=document.getElementsByClassName("body")[0].scrollTop;if(t.touches[0].pageY>this.now.y&&0===i){t.preventDefault();var o=t.touches[0].pageY-this.now.y;this.height=o/3,this.height>100&&(this.height=100)}}},scroll:function(t){var e=this,i=t.target.clientHeight;t.target.scrollHeight-i-t.target.scrollTop<=100&&!this.loading.bottom&&(this.loading.bottom=!0,this.bottom(function(t,i){"ok"===i?e.loading.bottom=!1:e.text.bottom="我是有底线的!"}))}}}},1217:function(t,e,i){"use strict";function o(t){i(1218)}Object.defineProperty(e,"__esModule",{value:!0});var s=i(1216),n=i.n(s);for(var l in s)"default"!==l&&function(t){i.d(e,t,function(){return s[t]})}(l);var a=i(1222),r=i(18),c=o,u=r(n.a,a.a,!1,c,null,null);e.default=u.exports},1218:function(t,e,i){var o=i(1219);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(15)("9dd99ec0",o,!0)},1219:function(t,e,i){e=t.exports=i(14)(!1),e.push([t.i,"ul.items{padding:10px;background:#fff}ul.items>li.loading{text-align:center;color:#aaa}",""])},1220:function(t,e,i){var o=i(1221);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(15)("5367e919",o,!0)},1221:function(t,e,i){e=t.exports=i(14)(!1),e.push([t.i,"ul.items{margin:0}ul.items>li{margin:0 0 10px;padding:0;cursor:pointer}ul.items>li:last-child{margin:0}ul.items>li>div.media-body>p{margin-bottom:0}ul.items>li>div.media-body>p>br{clear:both}ul.items>li>div.media-body>p>span{float:right}ul.items>li>div.media-body>p>span:first-child{float:left}",""])},1222:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"items",style:{"margin-top":t.height+"px"}},[t._l(t.items,function(e){return i("b-media",{key:e._id,attrs:{tag:"li"},on:{click:function(i){t.$router.push({path:"/"+e._id})}}},[i("b-img",{attrs:{slot:"aside",src:e.pict_url,width:"100",height:"100",alt:e.title},slot:"aside"}),t._v(" "),i("h5",{staticClass:"mt-0",domProps:{textContent:t._s(e.title)}}),t._v(" "),i("p",[i("span",[t._v("现价:"+t._s(e.zk_final_price)+" 原价:"+t._s(e.reserve_price))]),t._v(" "),i("span",[t._v("销量:"+t._s(e.volume))]),t._v(" "),i("br")]),t._v(" "),i("p",[i("span",[t._v("@"+t._s(e.shop_title))]),t._v(" "),i("span",[t._v(t._s(e.provcity))]),t._v(" "),i("br")])],1)}),t._v(" "),t.loading.bottom?i("li",{staticClass:"loading",domProps:{textContent:t._s(t.text.bottom)}}):t._e()],2)},s=[],n={render:o,staticRenderFns:s};e.a=n},1231:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1217),s=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default={components:{VueList:s.default},name:"Item",data:function(){return{item:{},sql:{table:"items",where:{click_url:{$ne:null}},other:{limit:20,skip:0,show:{_id:1,title:1,shop_title:1,zk_final_price:1,reserve_price:1,provcity:1,volume:1,pict_url:1}}},items:[],page:1}},mounted:function(){var t=this;this.$nextTick(function(){t.$store.commit("foot",!t.$route.meta.hideFooter),t.$db.table("items").where({_id:t.$route.params.id}).get("findone").then(function(e){t.item=e,t.$store.commit("title",e.title+" | "+t.$store.state.site.title)}),t.sql.other.skip=0,t.$db.table(t.sql.table).where(t.sql.where).other(t.sql.other).get("find").then(function(e){t.page=1,t.items=e}).catch(alert),t.$nextTick(function(){t.$store.commit("foot",!t.$route.meta.hideFooter),t.$store.commit("title",""+t.$store.state.site.title)})})},methods:{top:function(t){var e=this;this.sql.other.skip=0,this.$db.table(this.sql.table).where(this.sql.where).other(this.sql.other).get("find").then(function(i){e.page=1,e.items=i,t(null,"ok")}).catch(function(e){alert(e),t(e,null)})},bottom:function(t){var e=this;this.sql.other.skip=20*this.page,this.$db.table(this.sql.table).where(this.sql.where).other(this.sql.other).get("find").then(function(i){e.page++,i.length>0?i.forEach(function(i){e.items.push(i),t(null,"ok")}):t(null,"over")}).catch(function(e){t(e,null),alert(e)})}}}},1256:function(t,e,i){var o=i(1257);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(15)("7193a5b2",o,!0)},1257:function(t,e,i){e=t.exports=i(14)(!1),e.push([t.i,"div.images{margin-bottom:10px}div.images>ul{position:relative;margin:0;padding:0;height:0;padding-bottom:100%}div.images>ul>li{margin:0;width:100%;overflow:hidden;height:0;padding-bottom:100%;display:flex;display:-webkit-flex;align-items:center;position:absolute;top:0;left:0}div.images>ul>li>img{width:100%;padding-top:100%}h1{font-size:14px}p{margin-bottom:0}",""])},1258:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",{staticClass:"item"},[i("div",{staticClass:"images"},[i("ul",{ref:"image"},[i("li",{staticStyle:{"z-index":"5"}},[i("img",{attrs:{src:t.item.pict_url,alt:t.item.title}})]),t._v(" "),t._l(t.item.small_images.string,function(e,o){return i("li",{key:o,style:{zIndex:4-o}},[i("img",{attrs:{src:e,alt:t.item.title}})])})],2)]),t._v(" "),i("h1",[t._v(t._s(t.item.title))]),t._v(" "),i("p",[t._v("原价: "+t._s(t.item.reserve_price))]),t._v(" "),i("p",[t._v("现价: "+t._s(t.item.zk_final_price))])]),t._v(" "),i("div",{staticClass:"content"}),t._v(" "),i("vue-list",{attrs:{items:t.items,top:t.top,bottom:t.bottom}})],1)},s=[],n={render:o,staticRenderFns:s};e.a=n}});